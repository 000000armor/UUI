.root {
    position: absolute;
    &:not(:global(.uui-table-cell-selection)) {
        pointer-events: none;
    }
    &:global(.uui-table-cell-selection):hover * {
        pointer-events: none;
    }
}

.copying-marker {
    position: absolute;
    bottom: 0;
    right: 0;
    width: 7px;
    height: 7px;
    cursor: crosshair;
    pointer-events: all;

    &::after {
        content: "";
        position: absolute;
        display: block;
        bottom: 0;
        right: 0;
        width: 12px;
        height: 12px;
    }
}

.overlay {
    position: absolute;

    // Overlay the cell's border
    // if --uui-dt-cell-editor-border-width is bigger - it will inset into the cell
    top: calc(var(--uui-dt-row-border-width) * -1);
    bottom: calc(var(--uui-dt-row-border-width) * -1);
    left: 0;
    right: 0;

    // Overlay borders of cell at the left and top
    margin-left: calc(var(--uui-dt-cell-border-width) * -1);
    margin-right: calc(var(--uui-dt-cell-border-width) * -1);

    border-width: var(--uui-dt-cell-editor-border-width);
    border-style: solid;
    border-color: transparent;

    visibility: hidden;

    &:global(.uui-focus) {
        z-index: 2;
        visibility: visible;
        border-color: var(--uui-dt-cell-editor-focus-border-color);
    }

    &:global(.uui-invalid) {
        z-index: 3;
        visibility: visible;
        border-color: var(--uui-dt-cell-editor-invalid-border-color);
    }

    & :global(.uui-copying-marker) {
        background-color: var(--uui-dt-cell-editor-focus-border-color);
    }

    & :global(.uui-copying-marker-hover) {
        background-color: var(--uui-dt-cell-editor-hover-border-color);
    }

    :global(.uui-table-cell):hover & {
        &:not(:global(.uui-table-cell-selection)):not(:global(.uui-focus)) {
            z-index: 1;
            visibility: visible;
            border-color: var(--uui-dt-cell-editor-hover-border-color);
        }

        &:global(.uui-table-cell-selection) {
            z-index: 1;
            visibility: visible;
        }
    }

    :global(.uui-table-cell) &:global(.uui-table-cell-selected) {
        z-index: 3;
        visibility: visible;

        &:global(.uui-table-cell-selected-top) {
            border-top-color: var(--uui-dt-cell-editor-focus-border-color);
        }

        &:global(.uui-table-cell-selected-right) {
            border-right-color: var(--uui-dt-cell-editor-focus-border-color);
        }

        &:global(.uui-table-cell-selected-bottom) {
            border-bottom-color: var(--uui-dt-cell-editor-focus-border-color);
        }

        &:global(.uui-table-cell-selected-left) {
            border-left-color: var(--uui-dt-cell-editor-focus-border-color);
        }

        // to prevent borders to be cut, it is required to set border-{side} = 0px;
        &:global(.uui-table-cell-selected-top),
        &:global(.uui-table-cell-selected-bottom) {
            &:not(:global(.uui-table-cell-selected-right)) {
                border-right: 0px;
            }
            &:not(:global(.uui-table-cell-selected-left)) {
                border-left: 0px;
            }
        }

        &:global(.uui-table-cell-selected-right),
        &:global(.uui-table-cell-selected-left) {
            &:not(:global(.uui-table-cell-selected-bottom)) {
                border-bottom: 0px;
            }
            &:not(:global(.uui-table-cell-selected-top)) {
                border-top: 0px;
            }
        }
    }
}
