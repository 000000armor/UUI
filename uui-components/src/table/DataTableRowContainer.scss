@use '~@epam/assets/scss/index' as *;

/*
    Table z-indexes layout.

    Header - 10 + isolate

    Rows
        Left fixed: 5
        Center
        Right fixed: 5

    Cell:
        Overlay
        * borders can overlay cell on top, impossible to overlay bottom cells because position: sticky creates isolation context:
            Hover: 1
            Focus: 2
            Invalid: 3

    DropMarker: 10
*/

.container {
    --uui-table-cell-overlay-border-width: 1px;
    --uui-table-cell-overlay-extra-border-width: 2px;

    position: relative;
    display: flex;
    align-items: stretch;
    background-color: var(--uui-data-table-row-background);
    &:nth-of-type(1) {
        :global(.uui-table-cell-overlay) {
            border-top-width: var(--uui-table-cell-overlay-extra-border-width);
        }
    }
}

.scrolling-section {
    position: relative;
    display: flex;
    align-items: stretch;
    background-color: var(--uui-data-table-row-background);
    &.extraOverlayBorderLeft > div:nth-of-type(1) :global(.uui-table-cell-overlay) {
        border-left-width: var(--uui-table-cell-overlay-extra-border-width);
    }
    &.extraOverlayBorderRight > div:nth-last-of-type(1) :global(.uui-table-cell-overlay) {
        border-right-width: var(--uui-table-cell-overlay-extra-border-width);
    }
}

.fixed-columns-section-left, .fixed-columns-section-right {
    display: flex;
    position: sticky;
    z-index: 5;
    background-color: var(--uui-data-table-row-background);
}

.fixed-columns-section-left {
    left: 0;
}

.fixed-columns-section-right {
    right: 0;
}

@mixin scroll-shadow($position) {
    position: absolute;
    top: 0;
    bottom: 0;
    #{$position}: -5px;
    width: 5px;
    pointer-events: none;
    background: linear-gradient(to $position, rgba(0, 0, 0, 0.05) 0%, rgba(0, 0, 0, 0) 100%);
    opacity: 0;
}

:global(.uui-scroll-shadow-left) {
    @include scroll-shadow(left);
}

:global(.uui-scroll-shadow-right) {
    @include scroll-shadow(right);
}